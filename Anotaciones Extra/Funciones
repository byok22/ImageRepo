//copy files to red folder with credentials
private void copyFilesToRedFolder()
{
    string source = txtSource.Text;
    string destination = txtServerPath.Text;
    string userName = txtUserName.Text;
    string password = txtPassword.Text;
    string domain = txtDomain.Text;
    if (source != null && source != "" && destination != null && destination != "" && userName != null && userName != "" && password != null && password != "" && domain != null && domain != "")
    {
        try
        {
            //copy files to red folder
            NetworkCredential credentials = new NetworkCredential(userName, password, domain);
            using (new Impersonator(credentials))
            {
                //copy files to red folder
                CopyDirectory(source, destination);
            }
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message);
        }
    }
    else
    {
        MessageBox.Show("Please fill all fields");
    }
}